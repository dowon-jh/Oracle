# PL/SQL 1

### PL/SQL이란?

-oracle 데이터베이스 환경에서 SQL의 기능을 확장한 절차적 프로그래밍 언어

-핵심 특징은 블록 기반 구조의 프로그래밍 모델이라는 점

-모든 코드가 논리적 단위인 블록으로 구성되어있다.

-데이터 수정을 위해 DML 사용 가능

![2025-03-26 21 38 25.png](https://github.com/user-attachments/assets/a418c5c8-9e7e-4c8c-b891-f544cebba37a
)

 

### 블록 구조

- 선언부(DECLARE): 변수, 상수, 커서 등을 정의 / 쓰고자 하는 변수를 선언
- 실행부(BEGIN): 실제 데이터가 처리 되는 핵심 영역
- 예외 처리부(EXCEPTION): 런타임 오류 발생 시 처리 방식 정의

### 블록 유형 분류

- Anonymous block
    
    이름이 없는 일회용 블럭
    
    즉시 실행되며, 데이터베이스에 저장되지 않음
    
    임시 테스트, 스크립트 기반 작업 용
    
- Named block(Procedure, Function,Trigger)
    
    이름이 있다는 것은 다시 불러오겠다는 소리
    
    저장 프로시저, 함수, 트리거 등으로 데이터에 영구 저장
    
    다른 프로그램에서 반복 호출 가능
    
    코드 재 사용성 향상, 보안 강화
    
- Nested block
    
    다른 블록 내부에 포함된 블록
    
    코드 모듈화, 변수 범위 제한
    
    지역적 예외 처리 가능
    
    [중첩 블록 예시](https://www.notion.so/1c2f265a30ec80baaf35c6c6604a7ecf?pvs=21)
    

### 변수(Variables)

- 선언부에서 정의
- 시작은 문자만 가능
- 문자, 숫자, 특수문자 포함 가능\
- 특수문자는 $, _ , # 만 가능
- 변수명은 30바이트 이하
- 예약어를 변수명으로 사용 불가
- 특수변수
    1. %TYPE : 지정한 테이블의 특정 컬럼과 동일한 데이터 타입 지정 ⇒ 단일컬럼
    2. %ROWTYPE : 테이블이나 뷰의 전체 행 구조를 반영(레코드 변수 선언에 사용) ⇒ 전체 테이블 구조

- 바인드 변수(Bind variables) : PL/SQL 블록과 SQL 명령어 사이에서 데이터를 공유하게 해주는 변수
    1. vriable 변수명 데이터타입

![VARIABLE b_emp_salary(변수명) number(데이터타입) 라는 바인드 변수를 선언 후 블록 내에서  :b_emp_salary로  해당변수 참조](https://github.com/user-attachments/assets/21395228-e2e5-4f99-b471-af6c49275fc4)

VARIABLE b_emp_salary(변수명) number(데이터타입) 라는 바인드 변수를 선언 후 블록 내에서  :b_emp_salary로  해당변수 참조

---
